<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bản đồ Việt Nam - Biển Đảo Quê Hương</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #da291c, #ffcd00);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(to right, #da291c, #ffcd00);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }
        
        .vietnam-flag {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 60px;
            height: 40px;
            background: linear-gradient(to right, #da291c 50%, #ffcd00 50%);
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .intro {
            padding: 20px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #eaeaea;
            text-align: center;
        }
        
        .intro p {
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .map-controls {
            padding: 15px 20px;
            background-color: #e9ecef;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .map-controls button {
            padding: 10px 20px;
            background: #da291c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .map-controls button:hover {
            background: #b32117;
            transform: translateY(-2px);
        }
        
        .map-controls button.active {
            background: #ffcd00;
            color: #333;
        }
        
        .map-container {
            height: 500px;
            position: relative;
        }
        
        #map {
            height: 100%;
            width: 100%;
            z-index: 1;
        }
        
        .info-panel {
            padding: 20px;
            background-color: #f8f9fa;
            border-top: 1px solid #eaeaea;
        }
        
        .info-panel h2 {
            color: #da291c;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            color: #da291c;
            border-bottom: 3px solid #da291c;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .city-list, .island-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .city-card, .island-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
            cursor: pointer;
            border-left: 4px solid #da291c;
        }
        
        .island-card {
            border-left-color: #3498db;
        }
        
        .city-card:hover, .island-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .city-name, .island-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .city-population, .island-info {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .vietnam-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .info-card {
            padding: 15px;
        }
        
        .info-card h3 {
            color: #da291c;
            margin-bottom: 10px;
            border-bottom: 2px solid #ffcd00;
            padding-bottom: 5px;
        }
        
        .info-card ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .info-card li {
            padding: 5px 0;
            border-bottom: 1px dashed #eee;
        }
        
        .loading {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px 30px;
            border-radius: 8px;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
            border-top: 1px solid #eaeaea;
        }
        
        footer a {
            color: #da291c;
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .map-container {
                height: 400px;
            }
            
            .vietnam-flag {
                position: static;
                margin: 0 auto 15px;
            }
            
            .map-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .map-controls button {
                width: 100%;
                max-width: 250px;
            }
        }
        
        /* Legend styles */
        .legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        
        .legend h4 {
            margin: 0 0 10px;
            font-size: 14px;
            color: #333;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="vietnam-flag"></div>
            <h1>Bản đồ Việt Nam - Biển Đảo Quê Hương</h1>
            <p class="subtitle">Khám phá đất nước Việt Nam với các thành phố và quần đảo Hoàng Sa, Trường Sa</p>
        </header>
        
        <div class="intro">
            <p>Việt Nam là quốc gia ven biển nằm ở rìa phía đông bán đảo Đông Dương. Với bờ biển dài hơn 3.260 km, Việt Nam có chủ quyền không thể tranh cãi đối với hai quần đảo Hoàng Sa và Trường Sa trên Biển Đông.</p>
        </div>
        
        <div class="map-controls">
            <button id="viewMainland" class="active">Xem đất liền</button>
            <button id="viewHoangSa">Xem quần đảo Hoàng Sa</button>
            <button id="viewTruongSa">Xem quần đảo Trường Sa</button>
            <button id="viewAll">Xem toàn bộ lãnh thổ</button>
        </div>
        
        <div class="map-container">
            <div id="map"></div>
            <div class="loading" id="loadingIndicator">
                <p>Đang tải dữ liệu bản đồ Việt Nam...</p>
            </div>
            
            <div class="legend">
                <h4>Chú thích</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #e74c3c;"></div>
                    <span>Thành phố/Thủ đô</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #2ecc71;"></div>
                    <span>Đô thị trực thuộc trung ương</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #3498db;"></div>
                    <span>Thành phố khác</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #da291c;"></div>
                    <span>Quần đảo Hoàng Sa</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ffcd00;"></div>
                    <span>Quần đảo Trường Sa</span>
                </div>
            </div>
        </div>
        
        <div class="info-panel">
            <div class="tabs">
                <div class="tab active" data-tab="cities">Thành phố</div>
                <div class="tab" data-tab="islands">Quần đảo</div>
                <div class="tab" data-tab="info">Thông tin Việt Nam</div>
            </div>
            
            <div class="tab-content active" id="cities-tab">
                <h2>Các thành phố lớn của Việt Nam</h2>
                <div class="city-list" id="cityList">
                    <!-- City cards will be dynamically inserted here -->
                </div>
            </div>
            
            <div class="tab-content" id="islands-tab">
                <h2>Quần đảo Hoàng Sa và Trường Sa</h2>
                <div class="island-list" id="islandList">
                    <!-- Island cards will be dynamically inserted here -->
                </div>
            </div>
            
            <div class="tab-content" id="info-tab">
                <div class="vietnam-info">
                    <div class="info-card">
                        <h3>Địa lý</h3>
                        <ul>
                            <li><strong>Diện tích:</strong> 331.212 km²</li>
                            <li><strong>Đường bờ biển:</strong> 3.444 km</li>
                            <li><strong>Điểm cao nhất:</strong> Fansipan (3.143 m)</li>
                            <li><strong>Sông dài nhất:</strong> Sông Mekong</li>
                        </ul>
                    </div>
                    
                    <div class="info-card">
                        <h3>Phân chia hành chính</h3>
                        <ul>
                            <li>58 tỉnh</li>
                            <li>5 thành phố trực thuộc trung ương</li>
                            <li>3 vùng: Bắc, Trung, Nam</li>
                            <li>Thủ đô: Hà Nội</li>
                        </ul>
                    </div>
                    
                    <div class="info-card">
                        <h3>Nhân khẩu học</h3>
                        <ul>
                            <li><strong>Dân số:</strong> ~98 triệu</li>
                            <li><strong>Ngôn ngữ chính thức:</strong> Tiếng Việt</li>
                            <li><strong>Thành phố lớn nhất:</strong> TP. Hồ Chí Minh</li>
                            <li><strong>Mật độ dân số:</strong> 308/km²</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Dữ liệu bản đồ © <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> | Dữ liệu về Việt Nam được thu thập từ các nguồn công cộng</p>
        </footer>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Vietnam geographical data
        const vietnamData = {
            name: "Việt Nam",
            center: [16.1667, 107.8333],
            zoom: 6,
            cities: [
                { name: "Hà Nội", lat: 21.0278, lng: 105.8342, population: "8.1 triệu", region: "Miền Bắc", type: "Thủ đô" },
                { name: "TP. Hồ Chí Minh", lat: 10.8231, lng: 106.6297, population: "9.0 triệu", region: "Miền Nam", type: "Đô thị trực thuộc trung ương" },
                { name: "Đà Nẵng", lat: 16.0544, lng: 108.2022, population: "1.2 triệu", region: "Miền Trung", type: "Đô thị trực thuộc trung ương" },
                { name: "Hải Phòng", lat: 20.8651, lng: 106.6838, population: "2.1 triệu", region: "Miền Bắc", type: "Đô thị trực thuộc trung ương" },
                { name: "Cần Thơ", lat: 10.0452, lng: 105.7469, population: "1.6 triệu", region: "Miền Nam", type: "Đô thị trực thuộc trung ương" },
                { name: "Huế", lat: 16.4637, lng: 107.5909, population: "455.000", region: "Miền Trung", type: "Thành phố" },
                { name: "Nha Trang", lat: 12.2388, lng: 109.1967, population: "500.000", region: "Miền Trung", type: "Thành phố" },
                { name: "Vũng Tàu", lat: 10.4047, lng: 107.1417, population: "450.000", region: "Miền Nam", type: "Thành phố" },
                { name: "Đà Lạt", lat: 11.9404, lng: 108.4583, population: "250.000", region: "Tây Nguyên", type: "Thành phố" },
                { name: "Hải Dương", lat: 20.9397, lng: 106.3309, population: "500.000", region: "Miền Bắc", type: "Thành phố" }
            ],
            islands: {
                hoangSa: {
                    name: "Quần đảo Hoàng Sa",
                    center: [16.65, 112.75],
                    zoom: 9,
                    islands: [
                        { name: "Đảo Phú Lâm", lat: 16.83, lng: 112.33, info: "Đảo lớn nhất quần đảo Hoàng Sa" },
                        { name: "Đảo Cây", lat: 16.97, lng: 112.28, info: "Có trạm khí tượng" },
                        { name: "Đảo Bắc", lat: 17.10, lng: 111.45, info: "Nằm ở phía bắc quần đảo" },
                        { name: "Đảo Trung", lat: 16.70, lng: 112.70, info: "Vị trí trung tâm quần đảo" },
                        { name: "Đảo Nam", lat: 16.40, lng: 112.90, info: "Nằm ở phía nam quần đảo" }
                    ]
                },
                truongSa: {
                    name: "Quần đảo Trường Sa",
                    center: [10.5, 114.5],
                    zoom: 7,
                    islands: [
                        { name: "Đảo Trường Sa Lớn", lat: 10.23, lng: 114.29, info: "Đảo lớn nhất, có thị trấn Trường Sa" },
                        { name: "Đảo Sơn Ca", lat: 10.22, lng: 114.28, info: "Có đài quan sát" },
                        { name: "Đảo Sinh Tồn", lat: 9.88, lng: 114.35, info: "Có cảng biển" },
                        { name: "Đảo Nam Yết", lat: 10.11, lng: 114.38, info: "Có trạm radar" },
                        { name: "Đảo Song Tử Tây", lat: 11.25, lng: 114.33, info: "Có đèn biển" }
                    ]
                }
            }
        };
        
        // Initialize the map
        let map = L.map('map').setView(vietnamData.center, vietnamData.zoom);
        
        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors',
            maxZoom: 18
        }).addTo(map);
        
        let cityMarkers = [];
        let islandMarkers = [];
        let hoangSaLayer, truongSaLayer;
        
        // Function to create custom icon based on city type
        function createCityIcon(cityType) {
            let color = '#3498db'; // Default blue for cities
            
            if (cityType === 'Thủ đô') color = '#e74c3c'; // Red for capital
            if (cityType === 'Đô thị trực thuộc trung ương') color = '#2ecc71'; // Green for municipalities
            
            return L.divIcon({
                className: 'custom-city-marker',
                html: `<div style="background-color: ${color}; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>`,
                iconSize: [16, 16],
                iconAnchor: [8, 8]
            });
        }
        
        // Function to create island icon
        function createIslandIcon(islandGroup) {
            let color = '#da291c'; // Red for Hoang Sa
            if (islandGroup === 'truongSa') color = '#ffcd00'; // Yellow for Truong Sa
            
            return L.divIcon({
                className: 'custom-island-marker',
                html: `<div style="background-color: ${color}; width: 10px; height: 10px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>`,
                iconSize: [14, 14],
                iconAnchor: [7, 7]
            });
        }
        
        // Function to add city markers to the map
        function addCityMarkers() {
            // Clear existing markers
            cityMarkers.forEach(marker => map.removeLayer(marker));
            cityMarkers = [];
            
            // Add markers for each city
            vietnamData.cities.forEach(city => {
                const marker = L.marker([city.lat, city.lng], { 
                    icon: createCityIcon(city.type)
                })
                .addTo(map)
                .bindPopup(`
                    <div style="min-width: 200px;">
                        <h3 style="margin: 0 0 10px; color: #da291c;">${city.name}</h3>
                        <p><strong>Dân số:</strong> ${city.population}</p>
                        <p><strong>Vùng:</strong> ${city.region}</p>
                        <p><strong>Loại:</strong> ${city.type}</p>
                    </div>
                `);
                
                cityMarkers.push(marker);
            });
        }
        
        // Function to add island markers to the map
        function addIslandMarkers() {
            // Clear existing island markers
            islandMarkers.forEach(marker => map.removeLayer(marker));
            islandMarkers = [];
            
            // Add markers for Hoang Sa islands
            vietnamData.islands.hoangSa.islands.forEach(island => {
                const marker = L.marker([island.lat, island.lng], { 
                    icon: createIslandIcon('hoangSa')
                })
                .addTo(map)
                .bindPopup(`
                    <div style="min-width: 200px;">
                        <h3 style="margin: 0 0 10px; color: #da291c;">${island.name}</h3>
                        <p><strong>Thuộc:</strong> Quần đảo Hoàng Sa</p>
                        <p>${island.info}</p>
                    </div>
                `);
                
                islandMarkers.push(marker);
            });
            
            // Add markers for Truong Sa islands
            vietnamData.islands.truongSa.islands.forEach(island => {
                const marker = L.marker([island.lat, island.lng], { 
                    icon: createIslandIcon('truongSa')
                })
                .addTo(map)
                .bindPopup(`
                    <div style="min-width: 200px;">
                        <h3 style="margin: 0 0 10px; color: #da291c;">${island.name}</h3>
                        <p><strong>Thuộc:</strong> Quần đảo Trường Sa</p>
                        <p>${island.info}</p>
                    </div>
                `);
                
                islandMarkers.push(marker);
            });
        }
        
        // Function to update the city list in the info panel
        function updateCityList() {
            const cityList = document.getElementById('cityList');
            cityList.innerHTML = '';
            
            vietnamData.cities.forEach(city => {
                const cityCard = document.createElement('div');
                cityCard.className = 'city-card';
                cityCard.innerHTML = `
                    <div class="city-name">${city.name}</div>
                    <div class="city-population">Dân số: ${city.population}</div>
                    <div class="city-population">Vùng: ${city.region}</div>
                `;
                
                // Add click event to center map on city
                cityCard.addEventListener('click', () => {
                    map.setView([city.lat, city.lng], 10);
                    // Open popup for the corresponding marker
                    cityMarkers.find(marker => 
                        marker.getLatLng().lat === city.lat && 
                        marker.getLatLng().lng === city.lng
                    ).openPopup();
                });
                
                cityList.appendChild(cityCard);
            });
        }
        
        // Function to update the island list in the info panel
        function updateIslandList() {
            const islandList = document.getElementById('islandList');
            islandList.innerHTML = '';
            
            // Add Hoang Sa islands
            vietnamData.islands.hoangSa.islands.forEach(island => {
                const islandCard = document.createElement('div');
                islandCard.className = 'island-card';
                islandCard.innerHTML = `
                    <div class="island-name">${island.name}</div>
                    <div class="island-info">Quần đảo Hoàng Sa</div>
                    <div class="island-info">${island.info}</div>
                `;
                
                // Add click event to center map on island
                islandCard.addEventListener('click', () => {
                    map.setView([island.lat, island.lng], 11);
                    // Open popup for the corresponding marker
                    islandMarkers.find(marker => 
                        marker.getLatLng().lat === island.lat && 
                        marker.getLatLng().lng === island.lng
                    ).openPopup();
                });
                
                islandList.appendChild(islandCard);
            });
            
            // Add Truong Sa islands
            vietnamData.islands.truongSa.islands.forEach(island => {
                const islandCard = document.createElement('div');
                islandCard.className = 'island-card';
                islandCard.innerHTML = `
                    <div class="island-name">${island.name}</div>
                    <div class="island-info">Quần đảo Trường Sa</div>
                    <div class="island-info">${island.info}</div>
                `;
                
                // Add click event to center map on island
                islandCard.addEventListener('click', () => {
                    map.setView([island.lat, island.lng], 11);
                    // Open popup for the corresponding marker
                    islandMarkers.find(marker => 
                        marker.getLatLng().lat === island.lat && 
                        marker.getLatLng().lng === island.lng
                    ).openPopup();
                });
                
                islandList.appendChild(islandCard);
            });
        }
        
        // Add a simple polygon to roughly represent Vietnam's borders
        const vietnamBorder = L.polygon([
            [23.3924, 105.3379], // Northwest point
            [22.0000, 102.5000], // Western border with Laos
            [16.0000, 107.5000], // Central border with Laos
            [10.0000, 104.0000], // Southern border with Cambodia
            [8.5000, 104.5000],  // Southern tip
            [8.5000, 109.5000],  // Eastern coastline start
            [21.0000, 109.0000], // Northern coastline
            [23.3924, 105.3379]  // Back to northwest
        ], {
            color: '#da291c',
            weight: 2,
            opacity: 0.7,
            fillOpacity: 0.1
        }).addTo(map);
        
        // Add rectangles to represent Hoang Sa and Truong Sa areas
        hoangSaLayer = L.rectangle([
            [17.5, 111.0],
            [15.5, 113.5]
        ], {
            color: '#da291c',
            weight: 1,
            fillOpacity: 0.1
        }).addTo(map).bindPopup('Quần đảo Hoàng Sa - Lãnh thổ Việt Nam');
        
        truongSaLayer = L.rectangle([
            [12.0, 111.5],
            [8.0, 117.0]
        ], {
            color: '#ffcd00',
            weight: 1,
            fillOpacity: 0.1
        }).addTo(map).bindPopup('Quần đảo Trường Sa - Lãnh thổ Việt Nam');
        
        // Initialize the map with city markers
        addCityMarkers();
        addIslandMarkers();
        updateCityList();
        updateIslandList();
        
        // Map view controls
        document.getElementById('viewMainland').addEventListener('click', function() {
            map.setView(vietnamData.center, vietnamData.zoom);
            setActiveButton(this);
        });
        
        document.getElementById('viewHoangSa').addEventListener('click', function() {
            map.setView(vietnamData.islands.hoangSa.center, vietnamData.islands.hoangSa.zoom);
            setActiveButton(this);
        });
        
        document.getElementById('viewTruongSa').addEventListener('click', function() {
            map.setView(vietnamData.islands.truongSa.center, vietnamData.islands.truongSa.zoom);
            setActiveButton(this);
        });
        
        document.getElementById('viewAll').addEventListener('click', function() {
            map.setView([12, 108], 5);
            setActiveButton(this);
        });
        
        // Tab functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Hide all tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show the corresponding tab content
                const tabId = this.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });
        
        // Function to set active button
        function setActiveButton(activeButton) {
            document.querySelectorAll('.map-controls button').forEach(btn => {
                btn.classList.remove('active');
            });
            activeButton.classList.add('active');
        }
        
        // Show loading indicator briefly (for demonstration)
        document.getElementById('loadingIndicator').style.display = 'block';
        setTimeout(() => {
            document.getElementById('loadingIndicator').style.display = 'none';
        }, 1500);
    </script>
</body>
</html>